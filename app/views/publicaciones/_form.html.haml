= nested_form_for @publicacion, :html => { :multipart => true } do |f|
  - if @publicacion.errors.any?
    #error_explanation
      %h2= "#{pluralize(@publicacion.errors.count, "error")} prohibited this publicacion from being saved:"
      %ul
        - @publicacion.errors.full_messages.each do |msg|
          %li= msg

  .field
    = f.label :tipo
    = f.select :tipo, Publicacion::TIPOS.collect { |i| [i]}
  .field
    = f.label :animal
    = f.select :animal, Animal.all.collect { |animal| animal.nombre }
  .field
    = f.label :raza
    = f.select :raza, Raza.all.collect { |raza| raza.nombre }
  .field
    = f.label :nombre
    = f.text_field :nombre
  .field
    = f.label :recompensa
    = f.text_field :recompensa
  .field
    = f.label :fecha
    = f.date_select :fecha
  .field
    = f.label :descripcion
    = f.text_area :descripcion

  .field
    = f.label :portada
    = f.file_field :portada

  .field
    = f.label 'Im√°genes'
    = f.fields_for :imagenes do |imagen_form|
      = imagen_form.file_field :imagen
      = imagen_form.link_to_remove "Eliminar Imagen"
    = f.link_to_add "Agregar Imagen", :imagenes
  .field
    = f.label :edad
    = f.text_field :edad
  .field
    = f.label :sexo
    = f.select :sexo, Publicacion::SEXO.collect { |i| [i]}
  .actions
    = f.submit 'Guardar'
